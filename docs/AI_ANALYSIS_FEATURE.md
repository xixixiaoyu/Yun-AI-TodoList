# AI 智能分析功能使用说明

## 功能概述

AI 智能分析功能为 Todo 应用添加了智能化的任务管理能力，包括：

1. **重要等级评估**：使用 AI 自动分析并划分任务的重要等级（1-5 星）
2. **时间估算**：为每个任务提供完成时间的智能估算
3. **批量分析**：一键为所有未分析的任务进行 AI 评估
4. **手动调整**：支持用户手动修改 AI 的评估结果

## 功能特性

### 🌟 重要等级星级标记

- **1星**：日常琐事，可延期处理
- **2星**：一般任务，适时完成即可
- **3星**：重要任务，需要按时完成
- **4星**：高优先级，影响重要目标
- **5星**：紧急重要，必须立即处理

### ⏰ 时间估算

- 基于任务复杂度和类型进行智能估算
- 支持常见时间单位：分钟、小时、天
- 考虑任务的历史完成时间和类型特征

### 🔧 配置选项

- **自动分析新任务**：添加新 Todo 时自动进行 AI 分析
- **启用重要等级分析**：开启/关闭优先级评估功能
- **启用时间估算**：开启/关闭时间预估功能

## 使用方法

### 1. 配置 AI 分析功能

1. 进入**设置页面**
2. 找到 **AI 分析配置** 部分
3. 根据需要开启相应功能：
   - ✅ 启用重要等级分析
   - ✅ 启用时间估算
   - ✅ 自动分析新待办事项

### 2. 单个任务分析

**方法一：自动分析**

- 如果开启了"自动分析新待办事项"，新添加的任务会自动进行 AI 分析

**方法二：手动分析**

- 在任务项中点击 💡 分析按钮
- AI 会自动分析并显示星级和时间估算

### 3. 批量分析

1. 在待办事项列表中，点击 **批量 AI 分析** 按钮
2. 系统会自动分析所有未分析的活跃任务
3. 分析完成后，任务会显示相应的星级和时间估算

### 4. 手动调整

**调整重要等级：**

- 点击任务的星级标记
- 在弹出的对话框中输入新的等级（1-5）

**调整时间估算：**

- 点击任务的时间估算
- 在弹出的对话框中输入新的时间（如：30分钟、2小时、1天）

## 技术实现

### 核心组件

1. **aiAnalysisService.ts** - AI 分析服务
2. **useAIAnalysis.ts** - AI 分析 Composable
3. **AIAnalysisSection.vue** - 设置页面组件
4. **TodoItem.vue** - 更新显示星级和时间
5. **TodoActions.vue** - 批量分析按钮

### 数据结构

```typescript
interface Todo {
  // ... 原有字段
  priority?: number // 重要等级 (1-5 星)
  estimatedTime?: string // 时间估算 (如: "30分钟", "2小时", "1天")
  aiAnalyzed?: boolean // 是否已进行 AI 分析
}

interface AIAnalysisResult {
  priority: number // 1-5 星级
  estimatedTime: string // 时间估算
  reasoning?: string // AI 分析理由
}
```

### AI 分析逻辑

**重要等级评估标准：**

- 紧急程度（截止时间、时间敏感性）
- 重要程度（对目标的影响）
- 依赖关系（是否阻塞其他任务）
- 完成难度和所需时间

**时间估算考虑因素：**

- 任务复杂度和工作量
- 任务类型和历史数据
- 关键词分析（如：开发、设计、学习等）

## 最佳实践

### 1. 配置建议

- 新用户建议开启所有 AI 分析功能
- 熟练用户可根据需要选择性开启功能
- 定期检查和调整 AI 的评估结果

### 2. 使用技巧

- 任务描述越详细，AI 分析越准确
- 使用关键词帮助 AI 理解任务类型
- 定期使用批量分析功能更新任务状态

### 3. 关键词优化

**高优先级关键词：** 紧急、立即、马上、今天、截止、重要、关键、必须
**中优先级关键词：** 本周、尽快、需要、应该、计划 **低优先级关键词：**
有空、闲时、可以、考虑、想要

**快速任务关键词：** 打电话、发邮件、回复、查看、确认 **中等任务关键词：**
写、整理、准备、学习、阅读 **长时间任务关键词：** 开发、设计、研究、分析、项目

## 故障排除

### 常见问题

**Q: AI 分析失败怎么办？** A: 检查网络连接和 API 配置，确保 DeepSeek API
Key 已正确配置。

**Q: 分析结果不准确怎么办？** A: 可以手动调整结果，AI 会从用户的调整中学习改进。

**Q: 批量分析速度慢怎么办？**
A: 批量分析会限制并发请求数量，请耐心等待。可以分批次进行分析。

**Q: 如何重新分析已分析的任务？** A: 点击任务的分析按钮，选择"重新分析"选项。

### 性能优化

- 批量分析会自动跳过已完成和已分析的任务
- 系统会缓存分析结果，避免重复分析
- 支持增量分析，只分析新增的未分析任务

## 更新日志

### v1.0.0

- ✅ 基础 AI 分析功能
- ✅ 重要等级星级显示
- ✅ 时间估算功能
- ✅ 批量分析功能
- ✅ 设置页面配置
- ✅ 手动调整功能
- ✅ 中英文国际化支持

---

**注意：** 此功能需要配置有效的 DeepSeek API
Key 才能正常使用。请在设置页面中配置您的 API 密钥。
